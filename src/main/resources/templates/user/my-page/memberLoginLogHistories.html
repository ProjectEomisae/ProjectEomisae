<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>어미새</title>
    <link th:href="@{/user/my-page/resources/stylesheets/memberLoginlogHistories.css}" rel="stylesheet">
    <link th:href="@{/resources/stylesheets/index.css}" rel="stylesheet">
    <link th:href="@{/resources/stylesheets/common.css}" rel="stylesheet">
    <script defer th:src="@{/resources/scripts/myPageHeader.js}"></script>
    <script defer th:src="@{/resources/scripts/header.js}"></script>
    <script src="https://kit.fontawesome.com/0d51ab0f86.js" crossorigin="anonymous"></script>
    <link rel="shortcut icon" href="https://eomisae.co.kr/files/attach/xeicon/favicon.ico">
</head>
<body>
<th:block th:replace="~{fragments/header.html :: content}"></th:block>
<th:block th:replace="~{fragments/myPageHeader.html :: content}"></th:block>
<main class="main" id="main">
    <section class="mypage-table">
        <h1 class="title">로그인 기록</h1>
        <table class="table-container">
            <div class="count-container">
                <div class="total-count">
                    <span th:text="${'Total : ' + activityLogEntities.length + ','}">Total : </span>

                </div>
                <div class="page">
                    <span>Page : </span>
                    <span th:text="${paging.requestPage + '/' + paging.maxPage }">1/1</span>
                </div>
            </div>
            <thead>
            <tr>
                <th class="number">번호</th>
                <th class="result">분류</th>
                <th>IP주소</th>
                <th>접속 환경</th>
                <th>날짜</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="activityLog : ${activityLogEntities}">
                <td th:text="${activityLog.getIndex()}">2</td>
                <td th:text="${activityLog.getResult().equals('SUCCESS') ? '[성공]' : '[실패]'}" class="login-failed">[실패]</td>
                <td th:text="${activityLog.getClientIp()}">58.149.46.252</td>
                <td th:text="${activityLog.getClientUa()}">Apple (Chrome 104.0.0.0)</td>
                <td th:text="${#dates.format(activityLog.getCreatedAt(), 'yyyy-MM-dd HH:mm:ss')}">2022-08-11 13:38:17</td>
            </tr>
            </tbody>
            <tfoot>
            <tr class="page-tr">
                <td colspan="5">
                    <a class="page-button prev-button"
                       th:href="@{'/user/my-page/memberLoginLogHistories' (page=${paging.minPage})}">
                        « 첫 페이지
                    </a>
                    <a class="page-button page"
                       th:href="@{'/user/my-page/memberLoginLogHistories' (page=${page})}"
                       th:each="page : ${#numbers.sequence(paging.boundStartPage, paging.requestPage - 1)}"
                       th:text="${page}"
                       th:if="${paging.requestPage > paging.boundStartPage}">
                    </a>
                    <a class="page-button page selected"
                       th:text="${paging.requestPage}"
                       th:classappend="${paging.requestPage} ? 'selected'">
                    </a>
                    <a class="page-button page"
                       th:href="@{'/user/my-page/memberLoginLogHistories' (page=${page})}"
                       th:each="page : ${#numbers.sequence(paging.requestPage + 1, paging.boundEndPage)}"
                       th:text="${page}"
                       th:if="${paging.requestPage < paging.boundEndPage && page != paging.requestPage }">
                    </a>
                    <a class="page-button next-button"
                       th:href="@{'/user/my-page/memberLoginLogHistories' (page=${paging.maxPage})}">
                        끝 페이지 »
                    </a>
                </td>
            </tr>
            </tfoot>
        </table>
    </section>
</main>
<th:block th:replace="~{fragments/footer.html :: content}"></th:block>
</body>
</html>